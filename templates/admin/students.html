{% extends "admin/base.html" %}
{% block content %}
<h3 class="mb-3">Students</h3>

<form class="row g-2 mb-3" method="get">
  <div class="col-md-3"><input class="form-control" name="course" placeholder="Course (e.g. BSECE)" value="{{ course }}"></div>
  <div class="col-md-2"><input class="form-control" name="section" placeholder="Section (e.g. 4B)" value="{{ section }}"></div>
  <div class="col-md-4"><input class="form-control" name="q" placeholder="Search name or student_id" value="{{ q }}"></div>
  <div class="col-md-3 d-grid"><button class="btn btn-dark">Filter</button></div>
</form>

<div class="card shadow-sm">
  <div class="table-responsive">
    <table class="table table-sm table-striped mb-0">
      <thead>
        <tr>
          <th>Name</th><th>Student ID</th><th>Course</th><th>Section</th>
          <th class="text-end">Acc (h)</th><th class="text-end">Remain (h)</th>
          <th class="text-end">Late</th><th class="text-end">Missing</th><th>Status</th>
        </tr>
      </thead>
      <tbody>
      {% for s in students %}
        <tr>
          <td><a href="/admin/student/{{ s.id }}">{{ s.full_name }}</a></td>
          <td>{{ s.student_id }}</td>
          <td>{{ s.course }}</td>
          <td>{{ s.section }}</td>
          <td class="text-end">{{ s.acc_hours }}</td>
          <td class="text-end">{{ s.remaining_hours }}</td>
          <td class="text-end">{{ s.late_count }}</td>
          <td class="text-end">{{ s.missing_count }}</td>
          <td>{{ s.completion_status }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
