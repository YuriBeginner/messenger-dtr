<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page_title or "OJT Management Portal" }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root{
      --bg: #f6f6f7;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --line: #e5e7eb;
      --shadow: 0 1px 2px rgba(0,0,0,.06), 0 6px 16px rgba(0,0,0,.06);
    }
    body { background: var(--bg); color: var(--text); }
    .app-shell { min-height: 100vh; }

    /* Sidebar */
    .sidebar {
      width: 260px;
      background: #fff;
      border-right: 1px solid var(--line);
      position: sticky;
      top: 0;
      height: 100vh;
      padding: 18px 14px;
    }
    .brand {
      font-weight: 700;
      letter-spacing: .2px;
      font-size: 1rem;
      margin-bottom: 18px;
    }
    .brand small { display:block; color: var(--muted); font-weight: 500; margin-top: 2px; }
    .nav-pill {
      display:flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 10px;
      color: #111827;
      text-decoration:none;
      border: 1px solid transparent;
    }
    .nav-pill:hover { background:#f3f4f6; border-color:#eef0f3; }
    .nav-pill.active { background:#111827; color:#fff; }
    .nav-section { margin-top: 10px; }

    /* Content */
    .content {
      padding: 22px;
    }
    .topbar {
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 16px;
    }
    .page-title { font-size: 1.25rem; font-weight: 700; margin: 0; }
    .subtle { color: var(--muted); font-size: .9rem; }

    /* Cards */
    .card-soft {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 16px;
      box-shadow: var(--shadow);
    }
    .metric {
      display:flex;
      flex-direction: column;
      gap: 2px;
    }
    .metric .label { color: var(--muted); font-size: .9rem; }
    .metric .value { font-size: 1.8rem; font-weight: 800; letter-spacing: -.3px; }
    .hover-lift { transition: transform .12s ease, box-shadow .12s ease; }
    .hover-lift:hover { transform: translateY(-1px); box-shadow: 0 2px 3px rgba(0,0,0,.06), 0 10px 24px rgba(0,0,0,.08); }

    /* Badges (calm, grayscale + status colors) */
    .badge-soft { border-radius: 999px; padding: 6px 10px; font-weight: 600; }
    .b-gray  { background:#f3f4f6; color:#111827; border:1px solid #e5e7eb; }
    .b-green { background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
    .b-yellow{ background:#fffbeb; color:#92400e; border:1px solid #fde68a; }
    .b-red   { background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }

    /* Table */
    .table thead th { color: var(--muted); font-weight: 700; font-size: .85rem; }
    .table tbody td { vertical-align: middle; }
    .table a { text-decoration: none; }

    /* Mobile */
    @media (max-width: 992px) {
      .sidebar { position: static; height: auto; width: 100%; border-right: none; border-bottom: 1px solid var(--line); }
      .content { padding: 16px; }
    }
  </style>
</head>

<body>
<div class="app-shell d-lg-flex">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand">
      OJT Management Portal
      <small>Attendance & Compliance</small>
    </div>

    <nav class="nav-section d-grid gap-2">
      <a class="nav-pill {{ 'active' if active_page=='dashboard' else '' }}" href="/admin/dashboard">Dashboard</a>
      <a class="nav-pill {{ 'active' if active_page=='students' else '' }}" href="/admin/students">Students</a>
      <a class="nav-pill {{ 'active' if active_page=='exports' else '' }}" href="/admin/exports">Exports</a>
      <a class="nav-pill {{ 'active' if active_page=='logs' else '' }}" href="/admin/logs">Logs</a>
    </nav>

    <div class="mt-4 pt-3 border-top" style="border-color: var(--line) !important;">
      <div class="subtle mb-2">Signed in as</div>
      <div class="fw-semibold">{{ admin_name }}</div>
      <a class="btn btn-sm btn-outline-dark mt-3 w-100" href="/admin/logout">Logout</a>
    </div>
  </aside>

  <!-- Main content -->
  <main class="flex-grow-1 content">
    <div class="topbar">
      <div>
        <h1 class="page-title">{{ page_title or "Dashboard" }}</h1>
        {% if subtitle %}
          <div class="subtle">{{ subtitle }}</div>
        {% endif %}
      </div>
      {% if last_updated %}
        <div class="subtle text-end">
          Last updated<br>
          <span class="fw-semibold">{{ last_updated }}</span>
        </div>
      {% endif %}
    </div>

    {% block content %}{% endblock %}
  </main>
</div>
</body>
</html>
