{% extends "admin/base.html" %}
{% block content %}
<h3 class="mb-1">{{ u.full_name }}</h3>
<div class="text-muted mb-3">{{ u.student_id }} • {{ u.course }} {{ u.section }} • {{ u.company_name }}</div>

<div class="row g-3 mb-3">
  <div class="col-md-4"><div class="card p-3 shadow-sm"><div class="text-muted">Accumulated Hours</div><div class="fs-3">{{ acc_hours }}</div></div></div>
  <div class="col-md-4"><div class="card p-3 shadow-sm"><div class="text-muted">Remaining Hours</div><div class="fs-3">{{ remaining_hours }}</div></div></div>
  <div class="col-md-4"><div class="card p-3 shadow-sm"><div class="text-muted">Completion</div><div class="fs-5">{{ u.completion_status }}</div></div></div>
</div>

<div class="card shadow-sm">
  <div class="card-header">Recent DTR (last 30)</div>
  <div class="table-responsive">
    <table class="table table-sm mb-0">
      <thead><tr><th>Date</th><th>Time In</th><th>Time Out</th><th>Minutes</th><th>Late</th></tr></thead>
      <tbody>
      {% for r in recent %}
        <tr>
          <td>{{ r.date }}</td>
          <td>{{ r.time_in }}</td>
          <td>{{ r.time_out }}</td>
          <td>{{ r.minutes_worked or "" }}</td>
          <td>{% if r.is_late %}Yes ({{ r.late_minutes }}m){% endif %}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
